(function(B,D){var A={$:function(E){return(typeof E=="string")?document.getElementById(E):E},offset:function(F){var G=0,E=0;while(F){G+=F.offsetLeft;E+=F.offsetTop;F=F.offsetParent}return{"left":G,"top":E}},pageX:function(E){E=A.getEvent(E);return(E.pageX)?E.pageX:E.clientX+Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)},pageY:function(E){E=A.getEvent(E);return(E.pageY)?E.pageY:E.clientY+Math.max(document.documentElement.scrollTop,document.body.scrollTop)},getEvent:function(E){return E||B.event},addEvent:function(F,G,E){if(F.addEventListener){F.addEventListener(G,E,false)}else{if(F.attachEvent){F.attachEvent("on"+G,E)}else{F["on"+G]=E}}},removeEvent:function(F,G,E){if(F.removeEventListener){F.removeEventListener(G,E,false)}else{if(F.detachEvent){F.detachEvent("on"+G,E)}else{F["on"+G]=null}}},delegateEvent:function(E,F){return function(G){return F.call(E,G||B.event)}},stopBubble:function(E){E=A.getEvent(E);if(E.stopPropagation){E.stopPropagation()}else{E.returnValue=false}},extend:function(E,F){for(var G in F){if(E.hasOwnProperty(G)){E[G]=F[G]}}return E},linear:function(E,F,G,H){return G*E/H+F},swing:function(E,F,G,H){return G*((E=E/H-1)*E*E*E*E+1)+F}};A.Tween=function(H,K,E,G,I){if(H.timer){clearInterval(H.timer)}H.timer=setInterval(J,10);var F=new Date().getTime()/1000;function J(){var L=(new Date().getTime())/1000-F;if(L>=K){clearInterval(H.timer);H.timer=null;L=K}var M=A.swing(L,G,I-G,K);H.style[E]=parseInt(M)+"px"}};var C=function(E){this.initialize.call(this,E)};C.prototype={constructor:C,initialize:function(E){this.opts=A.extend({track:"",thumb:"",dir:"v",onDrag:function(){}},E||{});this.thumb=A.$(this.opts.thumb);this.track=A.$(this.opts.track);if(this.track.position!="relative"){this.track.position="relative"}A.addEvent(this.thumb,"mousedown",A.delegateEvent(this,this.dragStart));A.addEvent(this.track,"mousedown",A.delegateEvent(this,this.doTrack));this._fMove=A.delegateEvent(this,this.dragMoving);this._fStop=A.delegateEvent(this,this.dragStop);this.isDraging=false;this.offPos=this.offMarginPos=this.position=this.minPosition=this.maxPosition=this.offMidThumb=0;if(this.opts.dir=="h"){this.minPosition=this.thumb.offsetLeft||0;this.maxPosition=this.minPosition+this.track.offsetWidth-this.thumb.offsetWidth;this.thumb.style.left=this.minPosition+"px";this.offMidThumb=(this.thumb.offsetWidth/2)}else{this.minPosition=this.thumb.offsetTop||0;this.maxPosition=this.minPosition+this.track.offsetHeight-this.thumb.offsetHeight;this.thumb.style.top=this.minPosition+"px";this.offMidThumb=(this.thumb.offsetHeight/2)}},setPosition:function(E){this.position=Math.max(this.minPosition,Math.min(E,this.maxPosition));if(this.opts.dir=="h"){this.thumb.style.left=this.position+"px"}else{this.thumb.style.top=this.position+"px"}},getPosition:function(){return this.position},getPercent:function(){var E=((this.position/this.maxPosition)+this.minPosition)*100;return parseInt(E)},doTrack:function(F){var E=(this.opts.dir=="h")?(A.pageX(F)-A.offset(this.track).left):(A.pageY(F)-A.offset(this.track).top);E-=this.offMidThumb;this.position=Math.max(this.minPosition,Math.min(E,this.maxPosition));if(this.opts.dir=="h"){A.Tween(this.thumb,0.3,"left",parseInt(this.thumb.style.left),this.position)}else{A.Tween(this.thumb,0.3,"top",parseInt(this.thumb.style.top),this.position)}this.opts.onDrag()},dragStart:function(E){this.isDraging=true;if(this.opts.dir=="h"){this.offPos=A.pageX(E)-this.thumb.offsetLeft;this.offMarginPos=parseInt(this.thumb.marginLeft)||0}else{this.offPos=A.pageY(E)-this.thumb.offsetTop;this.offMarginPos=parseInt(this.thumb.marginTop)||0}A.addEvent(document,"mousemove",this._fMove);A.addEvent(document,"mouseup",this._fStop);A.stopBubble(E)},dragMoving:function(F){B.getSelection?B.getSelection().removeAllRanges():document.selection.empty();var E=(this.opts.dir=="h")?A.pageX(F)-this.offPos:A.pageY(F)-this.offPos;this.setPosition(E);this.opts.onDrag()},dragStop:function(E){this.isDraging=false;A.removeEvent(document,"mousemove",this._fMove);A.removeEvent(document,"mouseup",this._fStop)}};if(typeof YM=="undefined"){B.YM={}}YM.addSlider=function(E){return new C(E)}})(window,undefined);