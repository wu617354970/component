(function(C,A,B){C.fn.addWindow=function(E){var D=C.extend({},C.fn.addWindow.defaultOptions,E);return this.each(function(){var K=C(this),F=C(A),I=false,L=0,J=0;if(C.browser.msie&&C.browser.version==6){I=true;K.css("position","absolute")}else{K.css("position","fixed")}if(D.useClose){K.find(D.closeBtn).click(function(){H()})}function M(){var N=G();switch(D.position){case"TopLeft":L=D.marginLeft;J=D.marginTop;break;case"TopRight":L=N.w-K.width()-D.marginRight;J=D.marginTop;break;case"Center":L=(N.w-K.width())/2-D.marginLeft;J=(N.h-K.height())/2-D.marginTop;break;case"CenterLeft":L=D.marginLeft;J=(N.h-K.height())/2-D.marginTop;break;case"CenterRight":L=N.w-K.width()-D.marginRight;J=(N.h-K.height())/2-D.marginTop;break;case"BottomLeft":L=D.marginLeft;J=N.h-K.height()-D.marginBottom;break;case"BottomRight":L=N.w-K.width()-D.marginRight;J=N.h-K.height()-D.marginBottom;break}if(I){L=L+N.l;J=J+N.t}K.css({left:L,top:J})}function H(){K.slideUp(300)}F.bind("resize",function(){if(!K.is(":visible")){return}M()});if(I){F.bind("scroll",function(){if(!K.is(":visible")){return}M()})}function G(){return{w:F.width(),h:F.height(),l:F.scrollLeft(),t:F.scrollTop()}}M()})};C.fn.addWindow.defaultOptions={box:"",closeBtn:".closeBtn",position:"center",useClose:true,marginLeft:0,marginRight:0,marginTop:0,marginBottom:0}})(jQuery,window);