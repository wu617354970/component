(function(B,A){B.fn.addBanner=function(D){var C=B.extend({},B.fn.addBanner.defaultOpts,D||{});B(this).each(function(){var I=B(this).children("ul:last-child").children("li");var L=B(this).children("ul:first-child").children("li");var E=oldIndex=C.index;var G=null,J=null;var S=false;var P=I.size();var H=L.eq(0).width();var K=B(this).find("ul:first-child");I.each(function(T){var U=T;B(this).bind(C.mouseType,function(V){if(U==E){return}if(S){return}oldIndex=E;E=U;if(C.classType=="only"){B(this).addClass(C.selectedClass).siblings().removeClass(C.selectedClass)}else{B(this).addClass(C.selectedClass+String(E+1)).siblings().removeClass((C.selectedClass+String(oldIndex+1)))}J();R();V.preventDefault()})});function R(){if(!C.autoPlay){return}if(G){clearInterval(G)}G=setInterval(M,C.delay)}function M(){var T=((E+1)>=P)?0:E+1;I.eq(T).trigger(C.mouseType)}I.eq(E).addClass((C.classType=="only")?C.selectedClass:C.selectedClass+String(E+1));switch(C.effect){case"fade":L.css({"position":"absolute","left":0,"top":0}).hide().eq(E).show();J=F;break;case"twin":L.css({"position":"absolute","top":0,"left":H,"width":H}).eq(E).css("left",0);J=Q;break;case"order":K.css({"position":"relative","width":P*H});L.css("float","left");J=N;break;case"back":J=O;break}function F(){L.eq(E).fadeIn(C.tweenTime,C.ease).siblings().fadeOut(C.tweenTime+200,C.ease)}function Q(){S=true;var T=(E>oldIndex)?H:-H;L.eq(E).css("left",T).animate({"left":0},C.tweenTime).end().eq(oldIndex).animate({"left":-T},C.tweenTime,function(){S=false})}function N(){K.animate({"left":-E*H},C.tweenTime,C.ease)}function O(){if(C.itemHandler!=null){C.itemHandler(E)}}R()})};B.fn.addBanner.defaultOpts={effect:"fade",index:0,selectedClass:"on",classType:"only",mouseType:"click",tweenTime:600,delay:6000,autoPlay:false,ease:"swing",itemHandler:null}})(jQuery,window);