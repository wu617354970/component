(function(C,D){var B={$:function(E){return(typeof E=="string")?document.getElementById(E):E},offset:function(F){var G=0,E=0;do{G+=F.offsetLeft||0;E+=F.offsetTop||0}while((F=F.offsetParent)!=null);return{left:G,top:E}},pageX:function(E){E=E||C.event;return(E.pageX)?E.pageX:(E.clientX+Math.max(document.documentElement.scrollLeft,document.body.scrollLeft,0))},pageY:function(E){E=E||C.event;return(E.pageY)?E.pageY:(E.clientY+Math.max(document.documentElement.scrollTop,document.body.scrollTop,0))},addEvent:function(F,G,E){if(F.addEventListener){F.addEventListener(G,E,false)}else{if(F.attachEvent){F.attachEvent("on"+G,E)}else{F["on"+G]=E}}},removeEvent:function(F,G,E){if(F.removeEventListener){F.removeEventListener(G,E,false)}else{if(F.detachEvent){F.detachEvent("on"+G,E)}else{F["on"+G]=null}}},stopDefault:function(E){E=E||C.event;if(E.preventDefault){E.preventDefault()}else{E.returnValue=false}return false},stopBubble:function(E){E=E||C.event;if(E&&E.stopPropagation){E.stopPropagation()}else{E.cancelBubble=true}},getTarget:function(E){E=E||C.event;return E.target||E.srcElement},bindAsEventListener:function(E,F,G){return function(H){return F.call(E,H)}},linear:function(E,F,G,H){return G*E/H+F},swing:function(E,F,G,H){return G*((E=E/H-1)*E*E*E*E+1)+F}};B.Browser=(function(){var F=navigator.userAgent.toLowerCase();var E={};E.IE=F.match(/msie ([\d.]+)/)?true:false;E.Firefox=F.match(/firefox\/([\d.]+)/)?true:false;E.Chrome=F.match(/chrome\/([\d.]+)/)?true:false;E.IE6=(E.IE&&([/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]==6))?true:false;E.IE7=(E.IE&&([/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]==7))?true:false;E.IE8=(E.IE&&([/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]==8))?true:false;return E})();B.Tween=function(J,K,F,I,G,L){if(J.timer){clearInterval(J.timer)}J.timer=setInterval(H,10);var E=new Date().getTime()/1000;function H(){var M=(new Date().getTime())/1000-E;if(M>=K){clearInterval(J.timer);J.timer=null;if(L!=null){L()}M=K}var N=B.linear(M,I,G-I,K);switch(F){case"scrollTop":case"scrollLeft":J[F]=parseInt(N);break;default:J.style[F]=parseInt(N)+"px";break}}};var A=function(E){this.initialize.call(this,E)};A.prototype={constructor:A,initialize:function(E){this.container=B.$(E.container);this.content=B.$(E.content);this.scrollContainer=B.$(E.scrollContainer);this.track=B.$(E.track);this.thumb=B.$(E.thumb);if(E.arrowUp!=D){this.arrowUp=B.$(E.arrowUp);this.arrowDown=B.$(E.arrowDown)}this.dir=E.dir||"v";this.step=Math.max(Math.min(E.step||20,50),10);this.tweenTime=E.tweenTime||0.2;this.minPosition=this.maxPosition=this.position=this.thumbOffset=this.marginOffset=this.thumbMidPos=0;this.isDraging=false;if(this.arrowUp!=null){B.addEvent(this.arrowUp,"click",B.bindAsEventListener(this,this.doLeft));B.addEvent(this.arrowDown,"click",B.bindAsEventListener(this,this.doRight))}B.addEvent(this.track,"mousedown",B.bindAsEventListener(this,this.doTrackClick));B.addEvent(this.thumb,"mousedown",B.bindAsEventListener(this,this.doThumbStart));if(this.scrollContainer.style.position!="relative"){this.scrollContainer.style.position="relative"}B.addEvent(this.container,(B.Browser.Firefox?"DOMMouseScroll":"mousewheel"),B.bindAsEventListener(this,this.doMouseWheel));this._fMove=B.bindAsEventListener(this,this.doThumbMove);this._fStop=B.bindAsEventListener(this,this.doThumbStop);this.update()},update:function(){var E=0;if(this.dir=="h"){this.thumb.style.width=Math.max(15,(this.content.offsetWidth/this.content.scrollWidth)*this.track.offsetWidth)+"px";E=(this.arrowUp!=null)?this.arrowUp.offsetWidth:0;this.minPosition=E;this.maxPosition=E+this.track.offsetWidth-this.thumb.offsetWidth;this.thumb.style.left=E+"px";this.thumbMidPos=(this.thumb.offsetWidth/2)}else{this.thumb.style.height=Math.max(15,(this.content.offsetHeight/this.content.scrollHeight)*this.track.offsetHeight)+"px";E=(this.arrowUp!=null)?this.arrowUp.offsetHeight:0;this.minPosition=E;this.maxPosition=E+this.track.offsetHeight-this.thumb.offsetHeight;this.thumb.style.top=E+"px";this.thumbMidPos=(this.thumb.offsetHeight/2)}this.position=this.minPosition;this.updateState()},updateState:function(){this.thumb.style.display=(this.minPosition<this.maxPosition)?"block":"none"},doLeft:function(){this.setThumbPos(this.position-=this.step)},doRight:function(){this.setThumbPos(this.position+=this.step)},doTrackClick:function(F){var E=(this.dir=="h")?(B.pageX(F)-B.offset(this.scrollContainer).left-this.thumbMidPos):(B.pageY(F)-B.offset(this.scrollContainer).top-this.thumbMidPos);this.setThumbPos(E)},doMouseWheel:function(F){if(!this.isDraging){F=F||C.event;var E=(F.wheelDelta?F.wheelDelta:-F.detail)>0?1:-1;(E>0)?this.doLeft():this.doRight();B.stopDefault(F)}},setThumbPos:function(E){this.position=this.getLimitPos(E);if(this.dir=="h"){B.Tween(this.thumb,this.tweenTime,"left",parseInt(this.thumb.style.left),this.position)}else{B.Tween(this.thumb,this.tweenTime,"top",parseInt(this.thumb.style.top),this.position)}this.setContentPos()},setContentPos:function(){var E=0;if(this.dir=="h"){E=Math.max(0,(this.content.scrollWidth-this.content.offsetWidth)*((this.position-this.minPosition)/(this.maxPosition-this.minPosition)));B.Tween(this.content,this.tweenTime,"scrollLeft",parseInt(this.content["scrollLeft"]),E)}else{E=Math.max(0,(this.content.scrollHeight-this.content.offsetHeight)*((this.position-this.minPosition)/(this.maxPosition-this.minPosition)));B.Tween(this.content,this.tweenTime,"scrollTop",parseInt(this.content["scrollTop"]),E)}},getLimitPos:function(E){return Math.max(this.minPosition,Math.min(E,this.maxPosition))},doThumbStart:function(E){this.isDraging=true;if(this.dir=="h"){this.thumbOffset=B.pageX(E)-this.thumb.offsetLeft;this.marginOffset=parseInt(this.thumb.marginLeft)||0}else{this.thumbOffset=B.pageY(E)-this.thumb.offsetTop;this.marginOffset=parseInt(this.thumb.marginTop)||0}B.addEvent(document,"mousemove",this._fMove);B.addEvent(document,"mouseup",this._fStop);if(B.Browser.IE){B.addEvent(this.thumb,"losecapture",this._fStop);this.thumb.setCapture()}else{B.addEvent(C,"blur",this._fStop);E.preventDefault()}B.stopBubble(E)},doThumbMove:function(F){C.getSelection?C.getSelection().removeAllRanges():document.selection.empty();var E=(this.dir=="h")?(B.pageX(F)-this.thumbOffset):B.pageY(F)-this.thumbOffset;this.position=this.getLimitPos(E);if(this.dir=="h"){this.thumb.style.left=this.position-this.marginOffset+"px";this.content.scrollLeft=Math.max(0,(this.content.scrollWidth-this.content.offsetWidth)*((this.position-this.minPosition)/(this.maxPosition-this.minPosition)))}else{this.thumb.style.top=this.position-this.marginOffset+"px";this.content.scrollTop=Math.max(0,(this.content.scrollHeight-this.content.offsetHeight)*((this.position-this.minPosition)/(this.maxPosition-this.minPosition)))}},doThumbStop:function(E){this.isDraging=false;B.removeEvent(document,"mousemove",this._fMove);B.removeEvent(document,"mouseup",this._fStop);if(B.Browser.IE){B.removeEvent(this.thumb,"losecapture",this._fStop);this.thumb.releaseCapture()}else{B.removeEvent(C,"blur",this._fStop)}}};if(typeof YM=="undefined"){C.YM={}}YM.addScrollbar=function(E){return new A(E)}})(window,undefined);