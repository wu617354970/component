(function($,window){$.fn.addTab=function(options){var opts=$.extend({},$.fn.addTab.defaultOpts,options||{});return this.each(function(){var $that=$(this);var thatBuyd=$(this);var navList=$that.find("ul:first").children('li');var conList=$that.find("div:first").children();var size=navList.length;var timer=null;var curIndex=oldIndex=opts.index;setClass(curIndex);showContent(curIndex)
navList.each(function(i){var index=i;$(this).bind(opts.mouseType,function(e){if(index==curIndex){return;}
if(opts.lastLiLoseEffect){if(index==navList.length-1){return;}else{oldIndex=curIndex;curIndex=index;setClass(curIndex);showContent(index);callback(curIndex);}}else{oldIndex=curIndex;curIndex=index;setClass(curIndex);showContent(index);callback(curIndex);}});});function setClass(index){var $that=navList.eq(index);if(opts.classType=='only'){$that.addClass(opts.selectedClass).siblings().removeClass(opts.selectedClass);}else{$that.addClass(opts.selectedClass+String(curIndex+1)).siblings().removeClass((opts.selectedClass+String(oldIndex+1)));}}
function showContent(index){if(opts.isFade){conList.css({"position":"absolute","left":0,"top":0,"width":"100%"}).parent().css({"position":"relative"})
conList.eq(index).fadeIn(opts.tweenTime).siblings().fadeOut(opts.tweenTime);}else{conList.hide().eq(index).show();}}
function callback(index){opts.callback!==null?opts.callback(index):"";}
function autoTimer(){if(!opts.autoPlay){return;}
if(timer){clearInterval(timer);}
timer=setInterval(autoPlay,opts.delay);}
function stopTimer(){clearInterval(timer);}
function autoPlay(){var newIndex=((curIndex+1)>=size)?0:curIndex+1;navList.eq(newIndex).trigger(opts.mouseType)}
$that.hover(function(){stopTimer();},function(){autoTimer();}).trigger("mouseout");$that=null;});}
$.fn.addTab.defaultOpts={index:0,selectedClass:"on",classType:"only",mouseType:"click",isFade:false,lastLiLoseEffect:false,tweenTime:500,autoPlay:false,delay:6000,callback:null};})(jQuery,window);